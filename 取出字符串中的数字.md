# Python3取出字符串中的数字

## 摘要

两种常用方法，可以在不同的情况下发挥各自的优势，看下面的两个方法的使用实例可以比较得出。

1. 使用内置函数filter，用于过滤序列，过滤掉不符合条件的元素，返回一个迭代器对象，'filter(function, iterable)'
2. 使用正则表达式

## 内置函数filter参数

- function -- 判断函数。
- iterable -- 可迭代对象。

## 内置函数filter使用

返回一个迭代器对象<class 'filter'>

取出字符串中的数字，组成数字字符串，并转换成整型数，代码如下：

```python
>>> str1 =  "sss2g53h5g"
>>> str2 = filter(str.isdigit, str1)
>>> str3 = list(str2)
>>> num = "".join(str3)
>>> num = int(num)
>>> print(num)
```

则输出整型数 2535

## 使用正则表达式的方法

首先总结正则表达书与筛选数字有关的用法

```python
## 总结
## ^ 匹配字符串的开始。
## $ 匹配字符串的结尾。
## \b 匹配一个单词的边界。
## \d 匹配任意数字。
## \D 匹配任意非数字字符。
## x? 匹配一个可选的 x 字符 (换言之，它匹配 1 次或者 0 次 x 字符)。
## x* 匹配0次或者多次 x 字符。
## x+ 匹配1次或者多次 x 字符。
## x{n,m} 匹配 x 字符，至少 n 次，至多 m 次。
## (a|b|c) 要么匹配 a，要么匹配 b，要么匹配 c。
## (x) 一般情况下表示一个记忆组 (remembered group)。你可以利用 re.search 函数返回对象的 groups() 函数获取它的值。
## 正则表达式中的点号通常意味着 “匹配任意单字符”
```

实现思路：

既然是提取数字，那么数字的形式一般是：整数，小数，整数加小数；所以一般是形如：—-.—–；

根据上述正则表达式的含义，可写出如下的表达式：

```python
"\d+\.?\d*"
```

* `\d+` 匹配1次或者多次数字，注意这里不要写成`*`，因为即便是小数，小数点之前也得有一个数字；
* `\.?` 这个是匹配小数点的，可能有，也可能没有；
* `\d*` 这个是匹配小数点之后的数字的，所以是0个或者多个；

实例代码

```python
# -*- coding: cp936 -*-
import re

string="A1.45，b5，6.45，8.82"
print re.findall(r"\d+\.?\d*",string)

# ['1.45', '5', '6.45', '8.82']
```

## 转载

[filter函数提取数字](https://blog.csdn.net/tyttytzhz/article/details/85072878)

[正则表达式提取数字](https://blog.csdn.net/tyttytzhz/article/details/85072878)

